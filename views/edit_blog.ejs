<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('./partials/header.ejs') %>
  <title>Edit Blog</title>
  <link rel="icon" href="/images/bloglogo.png" type="image/png">
</head>
<body class="bg-gray-900 text-gray-300">
  <%- include('./partials/navbar.ejs') %>

  <div class="min-h-screen bg-gray-900 text-gray-300">
    <div class="max-w-full sm:max-w-3xl mx-auto py-12 px-4 sm:px-6">
      <h1 class="text-3xl font-bold text-white text-center mb-6">Edit Blog</h1>
  
      <form action="/blogs/<%= blog._id %>/update" method="POST" class="bg-gray-800 p-4 sm:p-6 rounded-lg shadow-md" enctype="multipart/form-data">
        
        <!-- Show current cover image -->
        <div class="mb-6">
          <label class="block text-lg font-semibold text-gray-300 mb-2">Current Cover Image</label>
          <div class="overflow-hidden rounded-lg border-4 border-gray-700">
            <img src="<%= blog.coverimageurl.replace('/upload/', '/upload/q_auto,f_auto/') %>" alt="Current Cover Image" class="w-full h-72 object-cover">
          </div>
        </div>
  
        <!-- Upload new cover image -->
        <div class="mb-6">
          <label for="dropzone-file" class="block text-lg font-semibold text-gray-300 mb-3">Change Cover Image</label>
          <label for="dropzone-file" class="flex flex-col items-center justify-center px-4 py-6 mx-auto text-center bg-white border-2 border-dashed rounded-lg cursor-pointer dark:border-gray-600 dark:bg-gray-900">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-gray-400 dark:text-gray-500 mb-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
            </svg>
            <h2 class="text-gray-500 dark:text-gray-400 text-base">Upload New Cover Image</h2>
            <input id="dropzone-file" type="file" name="coverimage" class="hidden" />
          </label>
        </div>
  
        <!-- Blog Title -->
        <div class="mb-4">
          <label for="title" class="block text-lg font-semibold text-gray-300 mb-2">Title</label>
          <input type="text" id="title" name="title" required value="<%= blog.title %>"
            class="w-full mt-1 p-3 border border-gray-600 rounded-md bg-gray-900 text-white focus:ring-2 focus:ring-indigo-500 text-base"
            placeholder="Enter blog title" />
        </div>
  
        <!-- Blog Content -->
        <div class="mb-6">
          <label for="content" class="block text-lg font-semibold text-gray-300 mb-2">Content</label>
          <textarea id="content" name="content" rows="12" required
            class="w-full mt-1 p-3 border border-gray-600 rounded-md bg-gray-900 text-white focus:ring-2 focus:ring-indigo-500 text-base"
            placeholder="Write your blog content here..."><%= blog.content %></textarea>
        </div>
  
        <!-- Submit Button -->
        <div class="flex justify-center">
          <button type="submit"
            class="px-5 py-3 bg-indigo-500 text-white text-lg font-semibold rounded-md hover:bg-indigo-600 focus:ring-2 focus:ring-indigo-400">
            Update Blog
          </button>
        </div>
  
      </form>
    </div>
  </div>
  

  <%- include('./partials/footer.ejs') %>
</body>
</html>
